
<h1>Account {{$ctrl.getAccount($ctrl.transactionDetails.account_id).name}}
  for {{$ctrl.transactionDetails.month}}</h1>

<p>Have {{$ctrl.transactionDetails.transactions.length}} transactions</p>
<table class='monthly-statement'>
  <tr>
    <th>Date</th>
    <th>Account</th>
    <th>Amount</th>
    <th>Pending</th>
    <th>Cleared</th>
    <th>Status</th>
    <th>Note</th>
  </tr>
  <tr>
    <td>{{$ctrl.transactionDetails.balance_date}}</td>
    <td>Opening Balance</td>
    <td></td>
    <td class='currency'>{{$ctrl.transactionDetails.pending_balance | currency}}</td>
    <td class='currency'>{{$ctrl.transactionDetails.cleared_balance | currency}}</td>
    <td></td>
    <td></td>
  </tr>
  <tr ng-repeat='transaction in $ctrl.transactionDetails.transactions'>
    <td>{{transaction.date_posted}}</td>
    <td><account-link account='$ctrl.getOtherAccount(transaction)', month='transaction.date_posted'></account-link></td>
    <td class='currency'>{{transaction.amount | currency}}</td>
    <td class='currency'>{{transaction.pendingBalance | currency}}</td>
    <td class='currency'>{{transaction.clearedBalance | currency}}</td>
    <td><status-selector transaction='transaction'></status-selector></td>
    <td>{{transaction.note}}</td>
  </tr>
</table>
